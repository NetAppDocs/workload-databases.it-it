---
sidebar: sidebar 
permalink: explore-savings.html 
keywords: cost, savings, compare costs, EBS, FSx for Windows File Server, SQL Server on-premises, on-premises, FSx for ONTAP 
summary: 'Confronta i costi dell"utilizzo dello storage di database on-premise Amazon Elastic Block Store (EBS), FSX per Windows file Server e SQL Server con FSX per lo storage ONTAP.' 
---
= Scopri i risparmi in NetApp Workload Factory per database
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
Scopri i risparmi di NetApp Workload Factory for Databases per i tuoi carichi di lavoro di database confrontando i costi di utilizzo di Microsoft SQL Server su Amazon Elastic Block Store (EBS), FSx for Windows File Server e storage on-premise con FSx for ONTAP storage.



== A proposito di questa attività

Workload Factory offre diversi modi per esplorare i risparmi sui carichi di lavoro del database in esecuzione su Amazon Elastic Block Store (EBS), FSx per Windows File Server e storage locale: dalla Dashboard, dalla scheda Inventario e dalla scheda Esplora risparmi.  In tutti i casi, puoi utilizzare il calcolatore dei risparmi per confrontare i vari componenti di costo dell'esecuzione dei carichi di lavoro di Microsoft SQL Server, come storage, elaborazione, licenza SQL, snapshot e cloni per i carichi di lavoro del database sui file system FSx for ONTAP rispetto a Elastic Block Store (EBS), FSx for Windows File Server e storage locale.

Se Workload Factory determina che è possibile risparmiare denaro eseguendo questi carichi di lavoro su un file system FSx for ONTAP , è possibile distribuire Microsoft SQL su FSx for ONTAP direttamente dal calcolatore di risparmio nella console di Workload Factory.  Se si dispone di più istanze di Microsoft SQL Server su Elastic Block Store, FSx per Windows File Server o storage locale, consigliamo una configurazione FSx per ONTAP con una singola istanza SQL.

.Potenziale risparmio per tutti i carichi di lavoro del database
Visita la *Dashboard* dei database nella console Workload Factory per ottenere una panoramica dei potenziali risparmi sui costi derivanti dall'esecuzione di tutti i carichi di lavoro del database su FSx for ONTAP.  Nel riquadro *Potenziali risparmi* puoi visualizzare il numero di tutti i carichi di lavoro del database presenti su Elastic Block Store e FSx per Windows File Server, i potenziali risparmi sui costi, la percentuale di risparmio e la rappresentazione visiva nel grafico a barre.

image:screenshot-dashboard-potential-savings-tile.png["Uno screenshot del riquadro dei potenziali risparmi dal dashboard dei database nella console di Workload Factory.  Il riquadro dei potenziali risparmi mostra il numero di tutti i carichi di lavoro del database presenti su Elastic Block Store e FSx per Windows File Server, i potenziali risparmi sui costi, la percentuale di risparmio e la rappresentazione visiva nel grafico a barre."]

.Calcolatore del risparmio
Puoi utilizzare il calcolatore dei risparmi, in modo da poter confrontare diversi componenti dei costi dell'esecuzione di workload Microsoft SQL Server come storage, calcolo, licenza SQL, snapshot e cloni per i carichi di lavoro del database su file system FSX per ONTAP con Elastic Block Store (EBS), FSX per Windows file Server e lo storage on-premise. In base ai tuoi requisiti di storage, potresti renderti conto che i file system FSX per ONTAP sono i più convenienti per i carichi di lavoro del tuo database.

Il calcolatore indica se lo storage per i carichi di lavoro del database su questi Microsoft SQL Server risulterebbe inferiore se si utilizza un file system FSX per ONTAP. <<Opzioni della calcolatrice,Scopri come utilizzare la calcolatrice.>>

image:screenshot-ebs-savings-calculator-update.png["Uno screenshot della pagina del calcolatore di risparmio mostra la configurazione selezionata di Microsoft SQL Server su Amazon Elastic Block Store a sinistra con l'opzione di personalizzare i valori di snapshot e cloni. Risparmi sui costi in dollari e percentuali, nonché sui costi totali mensili per l'utilizzo di Microsoft SQL Server in FSX per ONTAP e sullo storage di archiviazione a blocchi elastico sulla sinistra."]



== Analisi della distribuzione di SQL Server

Il calcolatore esegue un'analisi completa della distribuzione di SQL Server per garantire che le risorse e le funzionalità utilizzate siano adeguate all'edizione di SQL Server. Di seguito sono riportati i fattori e le condizioni principali che la calcolatrice controlla prima di consigliare un downgrade a Standard Edition:

.Modello di implementazione
La calcolatrice valuta il modello di distribuzione e se è richiesta l'edizione Enterprise.

.Risorse allocate
Il calcolatore valuta le condizioni delle seguenti risorse assegnate in base alla licenza:

+ * vCPU dell'istanza di destinazione: l'istanza ha 48 o meno CPU virtuali.  * Allocazione di memoria: l'istanza ha 128 GB o meno di memoria.

.Utilizzo delle funzioni aziendali
La calcolatrice verifica se è in uso una delle seguenti funzioni di Enterprise:

+ * Funzionalità aziendali a livello di database * Operazioni di indice online * Resource Governor * Replica peer-to-peer o Oracle * Estensioni R/Python * TempDB ottimizzato per la memoria

Se l'istanza di SQL Server valutata non utilizza alcuna delle funzionalità Enterprise precedenti e soddisfa i limiti delle risorse, la calcolatrice consiglia di eseguire il downgrade della licenza alla Standard Edition. Questo suggerimento consente di ottimizzare i costi di licenza di SQL Server senza compromettere le prestazioni o la funzionalità.



== Opzioni della calcolatrice

Sono disponibili due opzioni di calcolo per effettuare il confronto dei costi tra i sistemi e FSX per ONTAP, ossia la personalizzazione e il rilevamento.

Esplora i risparmi tramite la personalizzazione: Fornisci le impostazioni di configurazione di Microsoft SQL Server su Amazon EC2 con EBS o FSX per Windows file Server, inclusi la regione, il modello di distribuzione, l'edizione di SQL Server, la frequenza di modifica dei dati mensile, la frequenza delle snapshot e altro ancora.

Scopri i risparmi per gli host rilevati: Workload Factory si collega ai tuoi server Microsoft SQL esistenti e inserisce i dettagli nella calcolatrice per un confronto automatico.  Per utilizzare questa opzione della calcolatrice, è necessario concedere autorizzazioni di _sola lettura_ o _lettura/scrittura_. È possibile modificare il caso d'uso, ma tutti gli altri dettagli vengono determinati automaticamente nel calcolo.

Inoltre, è possibile link:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html["Aggiungi le credenziali AWS"^]migliorare l'accuratezza dell'analisi della calcolatrice. Selezionare *Calcola risparmio in base alle risorse esistenti*. Verrai reindirizzato alla pagina Aggiungi credenziali. Dopo aver aggiunto le credenziali, selezionare le risorse esistenti da confrontare con FSX per ONTAP e selezionare *Esplora risparmio*.



=== Esplora i risparmi tramite la personalizzazione

Seguire i passaggi nella scheda relativa al tipo di storage in uso.

[role="tabbed-block"]
====
.Amazon Elastic Block Store (EBS)
--
.Fasi
. Accedere utilizzando uno dei link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["esperienze di console"^].
. Dai database, selezionare *Esplora i risparmi*, quindi *Microsoft SQL Server su EBS*.
. Nel calcolatore dei risparmi, fornire i seguenti dettagli:
+
.. *Regione*: Selezionare una regione dal menu a discesa.
.. *Modello di distribuzione*: Selezionare un modello di distribuzione dal menu a discesa.
.. *Edizione SQL Server*: Selezionare l'edizione SQL Server dal menu a discesa.
.. *Tasso di modifica mensile dei dati (%)*: Immettere la percentuale di variazione dei dati di snapshot e clonazione in media al mese.
.. *Frequenza istantanea*: Selezionare una frequenza istantanea dal menu a discesa.
.. *Numero di copie clonate*: Immettere il numero di copie clonate nella configurazione EBS.
.. *Costo BYOL SQL mensile ($)*: Facoltativamente, immettere il costo BYOL SQL mensile in dollari.
.. In base alle specifiche EC2, fornire quanto segue:
+
*** *Descrizione macchina*: Se si desidera, immettere un nome per descrivere la macchina.
*** *Tipo di istanza*: Selezionare il tipo di istanza EC2 dal menu a discesa.


.. In tipi di volume, fornire i seguenti dettagli per almeno un tipo di volume. Gli IOPS e il throughput si applicano a determinati volumi di tipi di dischi.
+
*** *Numero di volumi*
*** *Quantità di storage per volume (GiB)*
*** *IOPS forniti per volume*
*** *Throughput MB/s*


.. Se è stato selezionato il modello di distribuzione disponibilità sempre attiva, fornire i dettagli per *specifiche EC2 secondario* e *tipi di volume*.




--
.Amazon FSX per Windows file Server
--
.Fasi
. Accedere utilizzando uno dei link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["esperienze di console"^].
. Dai database, selezionare *Esplora risparmi*, quindi *Microsoft SQL Server su FSX per Windows*.
. Nel calcolatore dei risparmi, fornire i seguenti dettagli:
+
.. *Regione*: Selezionare una regione dal menu a discesa.
.. *Modello di distribuzione*: Selezionare un modello di distribuzione dal menu a discesa.
.. *Edizione SQL Server*: Selezionare l'edizione SQL Server dal menu a discesa.
.. *Tasso di modifica mensile dei dati (%)*: Immettere la percentuale di variazione dei dati di snapshot e clonazione in media al mese.
.. *Frequenza istantanea*: Selezionare una frequenza istantanea dal menu a discesa.
.. *Numero di copie clonate*: Immettere il numero di copie clonate nella configurazione EBS.
.. *Costo BYOL SQL mensile ($)*: Facoltativamente, immettere il costo BYOL SQL mensile in dollari.
.. In FSX per le impostazioni del file server Windows, fornire quanto segue:
+
*** *Tipo di distribuzione*: Selezionare il tipo di distribuzione dal menu a discesa.
*** *Tipo di archiviazione*: L'archiviazione SSD è il tipo di archiviazione supportato.
*** *Capacità di memorizzazione totale*: Immettere la capacità di memorizzazione e selezionare l'unità di capacità per la configurazione.
*** *IOPS SSD con provisioning*: Inserire gli IOPS SSD con provisioning per la configurazione.
*** *Throughput (MB/s)*: Immettere il throughput in MB/s.


.. In specifiche EC2, selezionare *tipo di istanza* dal menu a discesa.




--
====
Dopo aver fornito i dettagli per la configurazione dell'host del database, esaminare i calcoli e i consigli forniti nella pagina.

Inoltre, scorrere verso il basso fino in fondo alla pagina per visualizzare il report selezionando una delle seguenti opzioni:

* *Esporta PDF*
* *Invia tramite e-mail*
* *Visualizzare i calcoli*


Per passare a FSX per ONTAP, seguire le istruzioni riportate in <<Implementa Microsoft SQL Server su AWS EC2 usando FSX per ONTAP,Distribuire Microsoft SQL Server su AQS EC2 utilizzando i file system FSX per ONTAP>>.



=== Esplora i risparmi per gli host rilevati

Workload Factory immette le caratteristiche rilevate dell'host Elastic Block Store e FSx per Windows File Server, in modo da poter esplorare automaticamente i risparmi.

.Prima di iniziare
Prima di iniziare, completare i seguenti prerequisiti:

* link:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html["Concedi autorizzazioni _di sola lettura_ o _di lettura/scrittura_"^] Nel tuo account AWS per rilevare i sistemi Elastic Block Store (EBS) ed FSX per Windows nella scheda *Esplora risparmio* e per mostrare il calcolo del risparmio nel calcolatore di risparmio.
* Per ottenere consigli sul tipo di istanza e migliorare l'accuratezza dei costi, procedere come segue:
+
.. Concedi le autorizzazioni ad Amazon CloudWatch e AWS Compute Optimizer.
+
... Accedi alla AWS Management Console e apri il servizio IAM.
... Modifica la policy per il ruolo IAM. Copia e aggiungi le seguenti autorizzazioni per Amazon CloudWatch e AWS Compute Optimizer.
+
[source, json]
----
{
"Version": "2012-10-17",
"Statement": [
  {
   "Effect": "Allow",
   "Action": "compute-optimizer:GetEnrollmentStatus",
   "Resource": "*"
  },
  {
   "Effect": "Allow",
   "Action": "compute-optimizer:PutRecommendationPreferences",
   "Resource": "*"
  },
  {
   "Effect": "Allow",
   "Action": "compute-optimizer:GetEffectiveRecommendationPreferences",
   "Resource": "*"
  },
  {
   "Effect": "Allow",
   "Action": "compute-optimizer:GetEC2InstanceRecommendations",
   "Resource": "*"
  },
  {
   "Effect": "Allow",
   "Action": "autoscaling:DescribeAutoScalingGroups",
   "Resource": "*"
  },
  {
   "Effect": "Allow",
   "Action": "autoscaling:DescribeAutoScalingInstances",
   "Resource": "*"
  }
]
}
----


.. Aggiungi l'account AWS fatturabile ad AWS Compute Optimizer.




Seguire i passaggi nella scheda relativa al tipo di storage in uso.

[role="tabbed-block"]
====
.Amazon Elastic Block Store (EBS)
--
.Fasi
. Accedere utilizzando uno dei link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["esperienze di console"^].
. Nel riquadro Database, seleziona *Esplora risparmio*, quindi *Microsoft SQL Server su FSX per Windows* dal menu a discesa.
+
Se Workload Factory rileva host EBS, verrai reindirizzato alla scheda Esplora risparmi.  Se Workload Factory non rileva gli host EBS, verrai reindirizzato alla calcolatrice per<<Esplora i risparmi tramite la personalizzazione,esplora i risparmi tramite la personalizzazione>> .

. Nella scheda Esplora risparmi, fare clic su *Esplora risparmi* del server database che utilizza lo storage EBS.
. Se necessario, autenticare l'host del database con le credenziali di SQL Server, le credenziali di Windows o aggiungendo le autorizzazioni mancanti di SQL Server.
+
Se la pagina Esplora risparmi non carica i dati dopo l'autenticazione riuscita, seleziona la scheda *Inventario* per ricaricare i dati, quindi seleziona nuovamente la scheda *Esplora risparmi*.

. Nel calcolatore dei risparmi, facoltativamente, fornisci i seguenti dettagli sui cloni e sulle snapshot nello storage EBS, per una stima più accurata dei risparmi sui costi.
+
.. *Frequenza snapshot*: seleziona una frequenza snapshot dal menu.
.. *Frequenza di aggiornamento clonazione*: seleziona dal menu la frequenza con cui clonare l'aggiornamento.
.. *Numero di copie clonate*: Immettere il numero di copie clonate nella configurazione EBS.
.. *Tasso di modifica mensile*: Immettere la percentuale di variazione dei dati clone e snapshot in media al mese.




--
.Amazon FSX per Windows file Server
--
.Fasi
. Accedere utilizzando uno dei link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["esperienze di console"^].
. Nel riquadro Database, seleziona *Esplora risparmi*, quindi *Microsoft SQL Server su FSx per Windows* dal menu.
+
Se Workload Factory rileva host FSx per Windows, verrai reindirizzato alla scheda Esplora risparmi.  Se Workload Factory non rileva FSx per gli host Windows, verrai reindirizzato alla calcolatrice per<<Esplora i risparmi tramite la personalizzazione,esplora i risparmi tramite la personalizzazione>> .

. Nella scheda Esplora risparmi, seleziona *Esplora risparmi* dell'host del database utilizzando FSx per l'archiviazione di file server Windows.
. Se necessario, autenticare l'host del database con le credenziali di SQL Server, le credenziali di Windows o aggiungendo le autorizzazioni mancanti di SQL Server.
+
Se la pagina Esplora risparmi non carica i dati dopo l'autenticazione riuscita, seleziona la scheda *Inventario* per ricaricare i dati, quindi seleziona nuovamente la scheda *Esplora risparmi*.

. Nel calcolatore del risparmio, facoltativamente, fornisci i seguenti dettagli sui cloni (copie shadow) e sulle snapshot nel tuo storage FSX per Windows per una stima più accurata dei risparmi sui costi.
+
.. *Frequenza snapshot*: seleziona una frequenza snapshot dal menu.
+
Se vengono rilevate copie shadow di FSX per Windows, il valore predefinito è *giornaliero*. Se le copie replicate non vengono rilevate, il valore predefinito è *Nessuna frequenza istantanea*.

.. *Frequenza di aggiornamento clonazione*: seleziona dal menu la frequenza con cui clonare l'aggiornamento.
.. *Numero di copie clonate*: Immettere il numero di copie clonate nella configurazione di FSX per Windows.
.. *Tasso di modifica mensile*: Immettere la percentuale di variazione dei dati clone e snapshot in media al mese.




--
.Microsoft SQL Server on-premise
--
.Fasi
. Accedere utilizzando uno dei link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["esperienze di console"^].
. Nel riquadro Database, seleziona *Esplora risparmi*, quindi *Microsoft SQL Server locale* dal menu.
. Dalla scheda on-premise di SQL Server, scaricare lo script per valutare gli ambienti SQL Server on-premise.
+
.. Scarica lo script di valutazione.  Lo script è uno strumento di raccolta dati basato su PowerShell.  Raccoglie e carica i dati sulla configurazione e sulle prestazioni di SQL Server in Workload Factory.  Il consulente per la migrazione valuta i dati e pianifica la distribuzione di FSx per ONTAP per l'ambiente SQL Server.
+
image:screenshot-download-script-on-premises.png["Una schermata della scheda on-premise di SQL Server mostra l'opzione di scaricare lo script di valutazione."]

.. Eseguire lo script sull'host SQL Server.
.. Caricare l'output dello script nella scheda SQL Server locale in Workload Factory.
+
image:screenshot-upload-script-on-premises.png["Una schermata della scheda on-premise di SQL Server mostra l'opzione di caricare lo script di valutazione."]



. Dalla scheda on-premise di SQL Server, selezionare *Esplora risparmio* per eseguire un'analisi dei costi dell'host on-premise di SQL Server rispetto a FSX per ONTAP.
. Nel calcolatore di risparmio, selezionare la regione per l'host on-premise.
. Per risultati più precisi, aggiorna le informazioni di calcolo, i dettagli sullo storage e sulle performance.
. Facoltativamente, fornisci i seguenti dettagli sui cloni (copie shadow) e sulle Snapshot nell'ambiente di database on-premise per una stima più accurata dei risparmi sui costi.
+
.. *Frequenza snapshot*: seleziona una frequenza snapshot dal menu.
+
Se vengono rilevate copie shadow di FSX per Windows, il valore predefinito è *giornaliero*. Se le copie replicate non vengono rilevate, il valore predefinito è *Nessuna frequenza istantanea*.

.. *Frequenza di aggiornamento clonazione*: seleziona dal menu la frequenza con cui clonare l'aggiornamento.
.. *Numero di copie clonate*: Immettere il numero di copie clonate nella configurazione on-premise.
.. *Tasso di modifica mensile*: Immettere la percentuale di variazione dei dati clone e snapshot in media al mese.




--
====
Dopo aver fornito i dettagli per la configurazione dell'host del database, esaminare i calcoli e i consigli forniti nella pagina.

Inoltre, scorrere verso il basso fino in fondo alla pagina per visualizzare il report selezionando una delle seguenti opzioni:

* *Esporta PDF*
* *Invia tramite e-mail*
* *Visualizzare i calcoli*


Per passare a FSX per ONTAP, seguire le istruzioni riportate in <<Implementa Microsoft SQL Server su AWS EC2 usando FSX per ONTAP,Distribuire Microsoft SQL Server su AQS EC2 utilizzando i file system FSX per ONTAP>>.

.Rimozione dell'host on-premise
Dopo aver valutato i risparmi per un host locale di Microsoft SQL Server, hai la possibilità di rimuovere il record dell'host locale da Workload Factory.  Selezionare il menu azioni dell'host locale di Microsoft SQL Server, quindi selezionare *Elimina*.



== Implementa Microsoft SQL Server su AWS EC2 usando FSX per ONTAP

Se si desidera passare a FSX for ONTAP per ottenere risparmi sui costi, fare clic su *Crea* per creare le configurazioni consigliate direttamente dalla procedura guidata Crea nuovo server Microsoft SQL o fare clic su *Salva* per salvare le configurazioni consigliate in un secondo momento.


NOTE: Workload Factory non supporta il salvataggio o la creazione di più file system FSx per ONTAP .

.Metodi di distribuzione
In modalità _lettura/scrittura_, è possibile distribuire il nuovo server Microsoft SQL su AWS EC2 utilizzando FSx per ONTAP direttamente da Workload Factory.  È anche possibile copiare il contenuto dalla finestra Codebox e distribuire la configurazione consigliata utilizzando uno dei metodi Codebox.

+ Nella modalità _base_, puoi copiare il contenuto dalla finestra Codebox e distribuire la configurazione consigliata utilizzando uno dei metodi Codebox.
